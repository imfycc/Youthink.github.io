<% var left = '<%=' %>
<% var left1 = '<%-' %>
<% var right = '%' %>
<% var right2 = '>' %>
<script defer>
  //console
  var consoleConfig = '<%= left %>theme.console_config<%= right %><%= right2 %>'.split(',');
  var canConsole = <%= left %>theme.console<%= right %><%= right2 %>;
  var consoleInfo = (function(consoleConfig) {
    if (!canConsole || !consoleConfig || consoleConfig.length < 1) {
      return;
    }
    var consoleColor = '<%= left1 %>theme.console_color || '#6190e8' <%= right %><%= right2 %>';
    var _console;
    var backgroundTextStyle = 'padding: 1px 5px;color: #fff;background: ' + consoleColor + ';'
    var textStyle = 'color: ' + consoleColor + ';';

    consoleConfig.map(o => {
      var num = (o.match(/%c/g) || []).length;
      if(/^http(s)?:\/\//.test(o)) {
        console.log('%c     ', 'background: url(' + o + ') no-repeat left center;font-size: 180px;');
        return;
      }
      if (num > 0) {
        var logArguments = [];
        for (var i = 0; i < num; i++) {
          if (i % 2 === 0) {
            logArguments.push(backgroundTextStyle);
          } else {
            logArguments.push(textStyle);
          }
        }
        (_console = console).log.apply(_console, ['%c' + o, textStyle].concat(logArguments));
        return;
      }
      console.log('%c' + o, textStyle);
    });
  }(consoleConfig));
</script>
<script type="text/javascript" src="<%= left %>config.root<%= right %><%= right2 %><%= htmlWebpackPlugin.files.js %>"></script>
<script defer>
  // 标签云
  let renderArr = [
    '你好'
  ];

  const options = {
    radius: 170, // 滚动半径, 单位px
    maxSpeed: 'slow', // 滚动最大速度, 取值: slow, normal(默认), fast
    initSpeed: 'slow', // 滚动初速度, 取值: slow, normal(默认), fast
    direction: -135, // 初始滚动方向, 取值角度(顺时针deg): 0 对应 top, 90 对应 left, 135 对应 right-bottom(默认)...
    keep: false // 鼠标移出组件后是否继续随鼠标滚动, 取值: false, true(默认) 对应 减速至初速度滚动, 随鼠标滚动
  }
  window.tagCloud('#tag-cloud', renderArr, options);

  let rootEl = document.querySelector('.js-tag-cloud-item');
  
  rootEl.addEventListener('click', function clickEventHandler(e) {
      if (e.target.className === 'js-tag-cloud-item') {
          window.open(`https://www.google.com/search?q=${e.target.innerText}`, '_blank');
      }
  });
</script>
